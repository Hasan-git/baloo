<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>Clients</h2>
        <ol class="breadcrumb">
            <li class="active">
                <strong>Clients</strong>
            </li>
        </ol>
    </div>

</div>
<div class="row" >
    <div class="col-lg-12" >
        <div class="wrapper wrapper-content">
            <div class="text-center animated fadeInRightBig ">

                <div class="text-left m-t-md m-b-xxs">
                    <button class="btn btn-success" ng-click="openNewForm()"><i class="fa fa-plus"></i> New Client</button>
                 </div>

                <div class="ibox float-e-margins" style="margin:0;" ng-show="showForm" id="formContainer">
                    <div class="ibox-title">
                        <h5><i class="fa fa-files-o"></i>  {{ formTitle || "Client"}}</h5>
                        <div></div>
                    </div>
                    <div class="ibox-content m-b-sm border-bottom text-left">
                        <form name="form" id="form" novalidate>
                            <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group" ng-class="{'has-error':form.name.$invalid && form.name.$dirty}">
                                            <label class="control-label" for="name">Name</label>
                                            <input type="text" id="name" name="name" value="" placeholder="Client name.." required class="form-control" ng-model="client.name" >
                                            <span ng-show="form.name.$dirty && form.name.$invalid"
                                                      class="color-red">
                                                <span class="message" ng-show="form.name.$error.required">This field is required.</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group" ng-class="{'has-error':form.mother.$invalid && form.mother.$dirty}">
                                            <label class="control-label" for="mother">Mother Name</label>
                                            <input type="text" id="mother" name="mother" value="" placeholder="Mother Name.." class="form-control" ng-model="client.mother" required />
                                            <span ng-show="form.mother.$dirty && form.mother.$invalid"
                                                      class="color-red">
                                                <span class="message" ng-show="form.mother.$error.required">This field is required.</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group" ng-class="{'has-error':form.father.$invalid && form.father.$dirty}">
                                            <label class="control-label" for="father">Father Name</label>
                                            <input type="text" id="father" name="father" value="" placeholder="Father Name.." class="form-control" ng-model="client.father" required />
                                            <span ng-show="form.father.$dirty && form.father.$invalid"
                                                      class="color-red">
                                                <span class="message" ng-show="form.father.$error.required">This field is required.</span>
                                            </span>
                                        </div>
                                    </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                        <div class="form-group" ng-class="{'has-error':form.birthPlace.$invalid && form.birthPlace.$dirty}">
                                            <label class="control-label" for="birthPlace">Birth Place</label>
                                            <input type="text" id="birthPlace" name="birthPlace" value="" placeholder="Birth Place.." class="form-control" ng-model="client.birthPlace" />
                                            <span ng-show="form.birthPlace.$dirty && form.birthPlace.$invalid"
                                                      class="color-red">
                                                <span class="message" ng-show="form.father.$birthPlace.required">This field is required.</span>
                                            </span>
                                        </div>
                                    </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="dob">Birth Date</label>
                                        <div class="controls">
                                            <div class="input-group col-xs-12">
                                               <input date-time format="yyyy-MM-dd" min-view="date" type="text" id="dob" name="dob" value="" placeholder="Date..." class="form-control" ng-model="client.dob" data-mask="9999-99-99">
                                                <span class="input-group-addon pointer" ng-click="client.dob=''" >x</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="nationality">Nationality</label>
                                        <input type="text" id="nationality" name="nationality" class="form-control" placeholder="Nationality.." ng-model="client.nationality">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="sejel">ID Record</label>
                                        <input type="text" id="sejel" name="sejel" class="form-control" placeholder="ID Record.." ng-model="client.sejel">
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="licenseId">License ID</label>
                                        <input type="text" id="licenseId" name="licenseId" value="" placeholder="License ID.." class="form-control" ng-model="client.licenseId">
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="licenseType">License Type</label>
                                        <select id="licenseType" name="licenseType" value="" placeholder="License Type.." class="form-control" ng-model="client.licenseType">
                                            <option value=""> -- Choose Option -- </option>
                                            <option value="public">Public</option>
                                            <option value="private">Private</option>
                                            <option value="international">International</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="licenseIssueDate">License Issue Date</label>
                                        <div class="controls">
                                            <div class="input-group col-xs-12">
                                               <input date-time format="yyyy-MM-dd" min-view="date" type="text" id="licenseIssueDate" name="licenseIssueDate" value="" placeholder="License Issue Date..." class="form-control" ng-model="client.licenseIssueDate" data-mask="9999-99-99">
                                                <span class="input-group-addon pointer" ng-click="client.licenseIssueDate=''" >x</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="licenseExpiryDate">License Expiry Date</label>
                                        <div class="controls">
                                            <div class="input-group col-xs-12">
                                               <input date-time format="yyyy-MM-dd" min-view="date" type="text" id="licenseExpiryDate" name="licenseExpiryDate" value="" placeholder="License Expiry Date..." class="form-control" ng-model="client.licenseExpiryDate" data-mask="9999-99-99">
                                                <span class="input-group-addon pointer" ng-click="client.licenseExpiryDate=''" >x</span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="address">Address</label>
                                        <textarea class="form-control" name="address" rows="1" id="address" ng-model="client.address" placeholder="Address..">
                                        </textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                               <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="contactNumber">Contact Number</label>
                                        <input type="text" id="contactNumber" name="contactNumber" value="" placeholder="Contact Number." class="form-control" ng-model="client.contactNumber">
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label" for="emergencyContact">Emergency Contact Number</label>
                                        <input type="text" id="emergencyContact" name="emergencyContact" value="" placeholder="Emergency Contact Number.." class="form-control" ng-model="client.emergencyContact">
                                    </div>
                                </div>

                            </div>

                            <div class="row m-b-xl">
                                <div class="col-sm-4 image-uploader">
                                    <div class="form-group">

                                            <label class="control-label" for="image">Image</label>
                                            <!-- <input type="text" id="notes" name="image" value="" placeholder="image.." class="form-control" ng-model="client.image"> -->
                                           <!--  <input type="file" name="image" id="image" nv-file-select="" uploader="uploader" /> -->

                                        <div class="btn-group col-xs-12 p-l-0">
                                            <label type="button" class="btn btn-primary btn-w-m">
                                                <i class="fa fa-upload"></i> &nbsp; Image
                                                <input type="file" name="image" id="image" ng-model="image" nv-file-select="" uploader="uploader" style="display:none;" ng-model="client.image" filter="imageFilter" multiple>
                                            </label>

                                            <button type="button" ng-show="uploader.queue[0]" class="btn btn-primary" style="border-radius: 0px 3px 2px 0px;"
                                                ng-click="uploader.clearQueue()" >
                                                <i class="fa fa-times"></i>
                                            </button>
                                            <button type="button" ng-show="client.image" class="btn btn-primary" style="border-radius: 0px 3px 2px 0px;"
                                                ng-click="client.image=''" >
                                                <i class="fa fa-times"></i>
                                            </button>
                                            <div ng-repeat="item in uploader.queue" class="pointer pull-right">
                                                <span ng-thumb="{ file: item._file, height: 100 }"></span>
                                            </div>
                                            <img src="" ng-show="client.imageUrl && client.image" ng-src="{{client.imageUrl}}" style="height: 34px;" class="pull-right" />
                                          </div>
                                        </div>
                                        <div class="progress col-xs-12 p-sides-0" ng-show="uploader.queue[0]" style="margin-bottom: 0;margin-bottom: 0;margin-top: 3px;height: 8px;">
                                              <div class="progress-bar"  role="progressbar" ng-style="{ 'width': uploader.queue[0].progress + '%' }">
                                              </div>
                                            </div>
                                    </div>
                                </div>

                            <div class="row">
                                <div class="col-xs-12">
                                        <button class="btn btn-primary btn-w-m" type="button" ng-click="save(form)"><i class="fa fa-floppy-o"></i> SAVE</button>
                                        <button class="btn btn-white" ng-click="cancelForm(form)">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-lg-12" style="margin-top: 0px;">
                        <div class="ibox float-e-margins">
                            <div class="ibox-title">
                                <h5 >Clients</h5>
                                <span class="label label-primary col-sm-offset-5">
                                            <i class="fa fa-car fa-1x"></i>&nbsp;{{clients.length}}
                                        </span>
                                <!-- <div ibox-tools></div> -->
                                <div ibox-tools></div>
                            </div>
                            <div class="ibox-content ibox-table">
                                <div class="">
                                    <table datatable="" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtIntanceCallback" class="table table-striped table-hover dataTables-example names-table text-capitalize"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
                <div class="clearfix"></div>
            </div>
        </div>
<!--     </div>
</div> -->

<style>

 canvas {
    background-color: #f3f3f3;
    -webkit-box-shadow: 3px 3px 3px 0 #e3e3e3;
    -moz-box-shadow: 3px 3px 3px 0 #e3e3e3;
    box-shadow: 3px 3px 3px 0 #e3e3e3;
    border: 1px solid #c3c3c3;
    height: 34px;
    margin: 0px 0 0 0px;
}

</style>

<script type="text/ng-template" id="deleteClient.html">
    <div class="modal-header">
        <h3 class="modal-title">Confirmation!</h3>
    </div>
    <div class="modal-body">
        <div>Are you sure to delete this Client ?</div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="yes()">Yes</button>
        <button class="btn btn-warning" type="button" ng-click="no()">No</button>
    </div>
</script>

<script type="text/ng-template" id="clientDetails.html">
    <div class="modal-header">
        <h3 class="modal-title text-uppercase">
        <span>Client Details !</span>
        </h3>
    </div>

    <div class="modal-body">
        <div class="col-xs-12">
            <div class="contact-box text-capitalize" style="border: 0;" >
            <div class="col-sm-4">
                <div class="text-center">
                    <img alt="image" class=" m-t-md img-responsive pointer" ng-src="{{viewClient.imageUrl || 'img/user-default.jpg' }}" onclick="window.open(this.src)" />

                    <div class="m-t-xs gray-bg" style="">{{viewClient.dob | date :  "mediumDate"}}</div>
                </div>
            </div>
            <div class="col-sm-8" style="font-size: 15px;font-family: serif;">
                <h3><strong class="text-capitalize">{{viewClient.name}}</strong></h3>
                <p class="" ng-show="viewClient.father">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Father : </strong>
                    <span >{{viewClient.father}}</span>
                </p>
                <p class="" ng-show="viewClient.mother">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Mother : </strong>
                    <span >{{viewClient.mother}}</span>
                </p>
                <p class="" ng-show="viewClient.birthPlace">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Birth Place : </strong>
                    <span >{{viewClient.birthPlace}}</span>
                </p>
                <p class="" ng-show="viewClient.sejel">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Identity File Number(Sejel) : </strong>
                    <span >{{viewClient.sejel}}</span>
                </p>
                <p class="" ng-show="viewClient.licenseId">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>License ID : </strong>
                    <span >{{viewClient.licenseId}}</span>
                </p>
                <p class="" ng-show="viewClient.address">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Adress : </strong>
                    <span >{{viewClient.address}}</span>
                </p>
                <p class="" ng-show="viewClient.contactNumber">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Contact : </strong>
                    <span >{{viewClient.contactNumber}}</span>
                </p>
                <p class="" ng-show="viewClient.emergencyContact">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Emergency Contact : </strong>
                    <span >{{viewClient.emergencyContact}}</span>
                </p>
                <p class="" ng-show="viewClient.totalDueAmount" >
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>Due Amount : </strong>
                    <span ng-class="{'badge-danger badge':viewClient.totalDueAmount}">
                    {{viewClient.totalDueAmount}}
                        <i class="fa fa-dollar"></i></span>
                </p>
                <p class="" ng-show="viewClient.licenseType">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>License Type : </strong>
                    <span >{{viewClient.licenseType}}</span>
                </p>
                <p class="" ng-show="viewClient.licenseIssueDate">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>License Issue Date : </strong>
                    <span >{{viewClient.licenseIssueDate}}</span>
                </p>
                <p class="" ng-show="viewClient.licenseExpiryDate">
                <i class="glyphicon glyphicon-chevron-right text-info" style="font-size:9px;"></i>
                    <strong>License Expiry Date : </strong>
                    <span >{{viewClient.licenseExpiryDate}}</span>
                </p>
            </div>
            <div class="clearfix"></div>
    </div>
        </div>
            <div class="clearfix"></div>

    </div>

    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="dismissDetailsModal()">Dissmis</button>
    </div>
</script>


